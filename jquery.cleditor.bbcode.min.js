/*
 CLEditor BBCode Plugin v1.0.0
 http://premiumsoftware.net/cleditor
 requires CLEditor v1.3.0 or later

 Copyright 2010, Chris Landowski, Premium Software, LLC
 Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(b){b.cleditor.defaultOptions.controls="bold italic underline strikethrough removeformat | font color size | bullets numbering | undo redo | image link unlink | cut copy paste pastetext | print source";var c=b.cleditor.defaultOptions.updateTextArea,d=b.cleditor.defaultOptions.updateFrame;b.cleditor.defaultOptions.updateTextArea=function(a){c&&(a=c(a));return b.cleditor.convertHTMLtoBBCode(a)};b.cleditor.defaultOptions.updateFrame=function(a){d&&(a=d(a));return b.cleditor.convertBBCodeToHTML(a)};
b.cleditor.convertHTMLtoBBCode=function(a){b.each([[/<b>/gi,"[b]"],[/<\/b>/gi,"[/b]"],[/<strong>/gi,"[b]"],[/<\/strong>/gi,"[/b]"],[/<i>/gi,"[i]"],[/<\/i>/gi,"[/i]"],[/<em>/gi,"[i]"],[/<\/em>/gi,"[/i]"],[/<u>/gi,"[u]"],[/<\/u>/gi,"[/u]"],[/<ins>/gi,"[u]"],[/<\/ins>/gi,"[/u]"],[/<strike>/gi,"[s]"],[/<\/strike>/gi,"[/s]"],[/<del>/gi,"[s]"],[/<\/del>/gi,"[/s]"],[/<a[^>]*?href="([^"]*?)".*?>([\s\S]*?)<\/a>/gi,"[url=$1]$2[/url]"],[/<img[^>]*?src="([^"]*?)"[^>]*?>/gi,"[img]$1[/img]"],[/<ul>/gi,"[list]"],
[/<\/ul>/gi,"[/list]"],[/<ol>/gi,"[list=1]"],[/<\/ol>/gi,"[/list]"],[/<li>/gi,"[*]"],[/<\/li>/gi,"[/*]"],[/<font[^>]*?color="?([^">]*?)"?>((?:[\s\S](?!<font[^>]*?color))*?)<\/font>/gi,"[color=$1]$2[/color]"],[/<font[^>]*?size="?([^">]*?)"?>((?:[\s\S](?!<font[^>]*?size))*?)<\/font>/gi,"[size=$1]$2[/size]"],[/<font[^>]*?face="?'?([^'">]*?)'?"?>((?:[\s\S](?!<font[^>]*?face))*?)<\/font>/gi,"[font=$1]$2[/font]"],[/[\r|\n]/g,""],[/<\/p>/gi,"\n"],[/<div><br[^>]*?>/gi,""],[/<\/div>/gi,"\n"],[/<br[^>]*?>/gi,
"\n"],[/<[^>]*?>/g,""],[/&nbsp;|\u00a0/gi," "],[/&amp;/gi,"&"],[/&lt;/gi,"<"],[/&gt;/gi,">"],[/&quot;/gi,'"']],function(b,e){for(var c=a;(a=a.replace(e[0],e[1]))!=c;)c=a});return a};b.cleditor.convertBBCodeToHTML=function(a){b.each([[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/\r/g,""],[/\n/g,"<br />"],[/\[color=([^\]]*?)\]/gi,'<font color="$1">'],[/\[\/color\]/gi,"</font>"],[/\[size=([^\]]*?)\]/gi,'<font size="$1">'],[/\[\/size\]/gi,"</font>"],[/\[font=([^\]]*?)\]/gi,'<font face="$1">'],[/\[\/font\]/gi,
"</font>"],[/\[b\]/gi,"<strong>"],[/\[\/b\]/gi,"</strong>"],[/\[i\]/gi,"<em>"],[/\[\/i\]/gi,"</em>"],[/\[u\]/gi,"<u>"],[/\[\/u\]/gi,"</u>"],[/\[s\]/gi,"<strike>"],[/\[\/s\]/gi,"</strike>"],[/\[url=(.*?)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'],[/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'],[/\[img\](.*?)\[\/img\]/gi,'<img src="$1">'],[/\[list\](.*?)\[\/list\]/gi,"<ul>$1</ul>"],[/\[list=1\](.*?)\[\/list\]/gi,"<ol>$1</ol>"],[/\[list\]/gi,"<ul>"],[/\[list=1\]/gi,"<ol>"],[/\[\*\](.*?)\[\/\*\]/g,"<li>$1</li>"],
[/\[\*\]/g,"<li>"],[/  (?=([^\<\>]*?<|[^\<\>]*?$))/g,"&nbsp;&nbsp;"]],function(b,c){a=a.replace(c[0],c[1])});return a}})(jQuery);